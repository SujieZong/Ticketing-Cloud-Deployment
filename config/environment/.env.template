# =====================================================
# CQRS Ticketing Platform Environment Configuration
# 
# This is a template file with placeholder values.
# Copy to .env and modify for your environment.
# =====================================================

# ===== DEPLOYMENT ENVIRONMENT =====
# Options: local, aws, production
DEPLOYMENT_ENV=local

# ===== SPRING PROFILES =====
# Active Spring profile - determines which configuration to use
SPRING_PROFILES_ACTIVE=docker

# ===== RABBITMQ CONFIGURATION =====
# Local RabbitMQ (Docker Compose)
SPRING_RABBITMQ_HOST_LOCAL=rabbitmq
SPRING_RABBITMQ_PORT_LOCAL=5672
SPRING_RABBITMQ_USERNAME_LOCAL=guest
SPRING_RABBITMQ_PASSWORD_LOCAL=guest

# AWS RabbitMQ (Amazon MQ)
SPRING_RABBITMQ_HOST_AWS=your-rabbitmq-broker.mq.us-west-2.amazonaws.com
SPRING_RABBITMQ_PORT_AWS=5672
SPRING_RABBITMQ_USERNAME_AWS=${AWS_MQ_USERNAME}
SPRING_RABBITMQ_PASSWORD_AWS=${AWS_MQ_PASSWORD}

# Production RabbitMQ
SPRING_RABBITMQ_HOST_PROD=prod-rabbitmq
SPRING_RABBITMQ_PORT_PROD=5672
SPRING_RABBITMQ_USERNAME_PROD=${PROD_MQ_USERNAME}
SPRING_RABBITMQ_PASSWORD_PROD=${PROD_MQ_PASSWORD}

# Active RabbitMQ Configuration (automatically set based on DEPLOYMENT_ENV)
SPRING_RABBITMQ_HOST=${SPRING_RABBITMQ_HOST_LOCAL}
SPRING_RABBITMQ_PORT=${SPRING_RABBITMQ_PORT_LOCAL}
SPRING_RABBITMQ_USERNAME=${SPRING_RABBITMQ_USERNAME_LOCAL}
SPRING_RABBITMQ_PASSWORD=${SPRING_RABBITMQ_PASSWORD_LOCAL}

# ===== DATABASE CONFIGURATION =====

# ----- MySQL Configuration -----
# Local MySQL (Docker) - Docker Compose MySQL container
SPRING_DATASOURCE_URL_LOCAL=jdbc:mysql://mysql:3306/ticket_platform?serverTimezone=UTC
SPRING_DATASOURCE_USERNAME_LOCAL=root
SPRING_DATASOURCE_PASSWORD_LOCAL=root

# AWS RDS MySQL
SPRING_DATASOURCE_URL_AWS=jdbc:mysql://your-rds-endpoint.amazonaws.com:3306/ticket_platform?serverTimezone=UTC
SPRING_DATASOURCE_USERNAME_AWS=${AWS_RDS_USERNAME}
SPRING_DATASOURCE_PASSWORD_AWS=${AWS_RDS_PASSWORD}

# Production MySQL
SPRING_DATASOURCE_URL_PROD=jdbc:mysql://prod-mysql:3306/ticket_platform?serverTimezone=UTC
SPRING_DATASOURCE_USERNAME_PROD=${PROD_DB_USERNAME}
SPRING_DATASOURCE_PASSWORD_PROD=${PROD_DB_PASSWORD}

# Active Database Configuration (automatically set based on DEPLOYMENT_ENV)
SPRING_DATASOURCE_URL=${SPRING_DATASOURCE_URL_LOCAL}
SPRING_DATASOURCE_USERNAME=${SPRING_DATASOURCE_USERNAME_LOCAL}
SPRING_DATASOURCE_PASSWORD=${SPRING_DATASOURCE_PASSWORD_LOCAL}

# Database Pool Settings
SPRING_DS_MIN_IDLE=5
SPRING_DS_MAX_POOL=20
SPRING_DS_CONN_TIMEOUT=30000

# ===== REDIS CONFIGURATION =====
# Local Redis (Docker Compose)
SPRING_DATA_REDIS_HOST_LOCAL=redis
SPRING_DATA_REDIS_PORT_LOCAL=6379
SPRING_DATA_REDIS_PASSWORD_LOCAL=

# AWS ElastiCache Redis
SPRING_DATA_REDIS_HOST_AWS=your-redis-cluster.cache.amazonaws.com
SPRING_DATA_REDIS_PORT_AWS=6379
SPRING_DATA_REDIS_PASSWORD_AWS=${AWS_REDIS_PASSWORD}

# Production Redis
SPRING_DATA_REDIS_HOST_PROD=prod-redis
SPRING_DATA_REDIS_PORT_PROD=6379
SPRING_DATA_REDIS_PASSWORD_PROD=${PROD_REDIS_PASSWORD}

# Active Redis Configuration (automatically set based on DEPLOYMENT_ENV)
SPRING_DATA_REDIS_HOST=${SPRING_DATA_REDIS_HOST_LOCAL}
SPRING_DATA_REDIS_PORT=${SPRING_DATA_REDIS_PORT_LOCAL}
SPRING_DATA_REDIS_PASSWORD=${SPRING_DATA_REDIS_PASSWORD_LOCAL}

# Redis Connection Pool Settings
SPRING_DATA_REDIS_TIMEOUT=5000
SPRING_DATA_REDIS_POOL_MAX_ACTIVE=8
SPRING_DATA_REDIS_POOL_MAX_IDLE=8
SPRING_DATA_REDIS_POOL_MIN_IDLE=0
SPRING_DATA_REDIS_POOL_MAX_WAIT=-1ms

# ===== APPLICATION CONFIGURATION =====
# Bootstrap settings
TICKETS_BOOTSTRAP_VENUE_REDIS=true

# ===== AWS SPECIFIC SETTINGS =====
# AWS Region
AWS_REGION=us-west-2

# AWS Load Balancer Health Check Path
HEALTH_CHECK_PATH=/actuator/health

# AWS CloudWatch Logging
LOGGING_LEVEL_ORG_JAVA=INFO
LOGGING_APPENDER=cloudwatch

# ===== MONITORING & OBSERVABILITY =====
# Application Performance Monitoring
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always

# Spring Boot Actuator Health Checks
MANAGEMENT_ENDPOINT_HEALTH_PROBES_ENABLED=true
MANAGEMENT_HEALTH_LIVENESSSTATE_ENABLED=true
MANAGEMENT_HEALTH_READINESSSTATE_ENABLED=true

# Distributed Tracing (for AWS X-Ray)
SPRING_SLEUTH_ENABLED=false
SPRING_SLEUTH_ZIPKIN_ENABLED=false
SPRING_SLEUTH_XRAY_ENABLED=false